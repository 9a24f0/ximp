<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Cabin:wght@600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="sidenav.css" />
    <link rel="stylesheet" href="page.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body>
    <div id="mySidebar" class="sidenav">
      <a href="#"
        >Group 11<button id="btn-close-nav" onclick="closeNav()">☰</button>
      </a>
      <a href="#about">About</a>
      <button class="dropdown-btn">Data</button>
      <div class="dropdown-container">
        <a href="#kaggle" onclick="page('kaggle')">Kaggle</a>
        <a href="#wiki" onclick="page('wiki')">Wikimedia</a>
        <a href="#radiopaedia" onclick="page('radio')">Radiopaedia</a>
      </div>
    </div>

    <div id="main" style="height: 100vh">
      <button id="btn-open-nav" onclick="openNav()">☰</button>
      <div class="header">
        <h2>X-ray Image of Pneumonia</h2>
      </div>
      <div class="images"></div>
    </div>

    <script>
      /* drop down */
      var dropdown = document.getElementsByClassName("dropdown-btn");
      var i;

      for (i = 0; i < dropdown.length; i++) {
        dropdown[i].addEventListener("click", function () {
          this.classList.toggle("active");
          var dropdownContent = this.nextElementSibling;
          if (dropdownContent.style.display === "block") {
            dropdownContent.style.display = "none";
          } else {
            dropdownContent.style.display = "block";
          }
        });
      }

      /* open/close side nav */
      function openNav() {
        document.getElementById("mySidebar").style.display = "block";
      }

      function closeNav() {
        document.getElementById("mySidebar").style.display = "none";
      }

      /* For switching content */
      url = "";

      function page(page) {
        switch (page) {
          case "radio":
            url = "Radiopaedia/data.json";
            break;
          case "wiki":
            url = "Wikimedia/data.json";
            break;
          case "kaggle":
            url = "Kaggle/data.json"
            break;
        }

        $.ajax({
          url: url,
          dataType: "json",
          type: "get",
          cache: false,
          success: function (data) {
            document.getElementsByClassName("images")[0].remove();
            let content = document.createElement("div");
            content.className = "images";
            document.getElementById("main").appendChild(content);
            $(data).each(function (index, value) {
              let card = document.createElement("div");
              card.className = "data";
              card.innerHTML = `<div class="img"><img src="${value.link}"></div>
                              <div class="label">${value.title}</div>`;
              document.getElementsByClassName("images")[0].appendChild(card);
            });
          },
        });
      }

      /* display images */
      $.ajax({
        url: "Wikimedia/data.json",
        dataType: "json",
        type: "get",
        cache: false,
        success: function (data) {
          document.getElementsByClassName("images")[0].remove();
          let content = document.createElement("div");
          content.className = "images";
          document.getElementById("main").appendChild(content);
          $(data).each(function (index, value) {
            let card = document.createElement("div");
            card.className = "data";
            card.innerHTML = `<div class="img"><img src="${value.link}"></div>
                              <div class="label">${value.title}</div>`;
            document.getElementsByClassName("images")[0].appendChild(card);
          });
        },
      });
    </script>
  </body>
</html>
